doc = %q(<!DOCTYPE html><html lang="en"><head><meta property="og:type" content="website"><title>Hadi is 404</title><meta property="og:title" content="Hadi is 404"><link rel="canonical" href="%{url}"><meta property="og:url" content="%{url}"><meta property="og:site_name" content="Hadi.is"><meta name="description" content="Hadi is not %{readable}"><meta property="og:description" content="Hadi is not %{readable}"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Hadi is not %{readable}"><meta name="twitter:description" content="(for now)"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Inconsolata:wght@400&family=Raleway:wght@700&display=swap" rel="stylesheet"/><style>body,html{height:100%;margin:0}body{font-family:'Noto Sans TC',sans-serif;font-size:1rem}pre{font-family:Inconsolata,monospace}header :first-child{margin-top:1rem}h1,h2{font-weight:900}.yuge,h1{font-size:calc(1.625rem + 4.5vw)}@media (min-width:1200px){.yuge,h1{font-size:5rem}}.big,h2{font-size:calc(1.325rem + .9vw);font-weight:900}@media (min-width:1200px){.big,h2{font-size:2rem}}.less-big{font-size:calc(1.275rem + .3vw);font-weight:500}@media (min-width:1200px){.less-big{font-size:1.5rem}}.small{font-size:.75rem;font-weight:400}.giga{font-size:calc(1.525rem + 3.3vw);font-weight:900}@media (min-width:1200px){.giga{font-size:4rem}}.center-children{display:flex;flex-direction:column;align-items:center}.red{color:red}.faint{opacity:50%}.hidden{display:none}.flex-main{flex:1 0 auto}.flex-last{flex-shrink:0}.full-height{height:100%}#quicc-icons a{opacity:.5;transition:opacity 75ms;}#quicc-icons a:hover{opacity:1}</style></head><body><nav id="quicc-icons" style="position:fixed;margin:.5em"><a href="/"><svg fill="red" stroke-width="0" viewBox="0 0 576 512" size="32" height="32" width="32"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg></a></nav><div class="center-children full-height"><div class="flex-main center-children"><p class="big">hadi is <span class="red">not</span> <span class="input">%{readable}</span></p><p class="less-big">(for now)</p></div><p class="small faint flex-last">This was automatically concocted using your own input. If it says something unsavory, <b>that's on you</b>. See <a href="/liable">hadi.is/liable</a></p></div></body></html>)

Handler = Proc.new do |req, res|
  res.status = 404
  res['Content-Type'] = 'text/html; charset=utf-8'
  res.body = doc % {url: req.unparsed_uri, readable: req.path.split('.', 2)[0].gsub(/\/+/, ' ')}
end
